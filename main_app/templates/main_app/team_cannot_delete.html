{% extends "base.html" %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/team_cannot_delete.css' %}">
{% endblock %}
{% block content %}
<div class="delete-warning">
  <h1>⚠️ Can’t delete {{ team.name }}</h1>
  <p class="message">
    This team is linked to the following matches.  
    <strong>Edit or delete these matches first</strong>, then try again.
  </p>

  <ul class="block-list">
    {% for m in blocking_matches %}
      <li>
        <a href="{% url 'match-detail' m.pk %}">
          {{ m.home_team.name }} vs {{ m.away_team.name }}
          ({{ m.kickoff_at|date:"Y-m-d H:i" }})
        </a>
        — <span class="status">Status: {{ m.status }}</span>
        {% if m.venue %} • <span class="venue">Venue: {{ m.venue }}</span>{% endif %}
      </li>
    {% empty %}
      <li>No blocking matches found.</li>
    {% endfor %}
  </ul>

  <div class="actions">
    <a class="btn" href="{% url 'match-index' %}">Go to Matches</a>
    <a class="btn secondary" href="{% url 'team-detail' team.pk %}">Back to Team</a>
  </div>
</div>
{% endblock %}
