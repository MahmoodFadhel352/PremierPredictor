{% extends 'base.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/predictions/predictions.css' %}">
{% endblock %}
{% block content %}
<section class="page-header">
  <h1>Predictions</h1>
  <a href="{% url 'prediction-create' %}" class="btn submit">+ New Prediction</a>
</section>
<ul class="prediction-list">
  {% for p in object_list %}
    <li>
      <a href="{% url 'prediction-detail' p.pk %}">
        {{ p.match.home_team.name }} vs {{ p.match.away_team.name }}
      </a>
      — Pick: {{ p.get_pick_display }}
      {% if p.p_home or p.p_draw or p.p_away %}
        (H/D/A: {{ p.p_home|default:"—" }}/{{ p.p_draw|default:"—" }}/{{ p.p_away|default:"—" }})
      {% endif %}
      <span class="byline">
          by {{ p.user.username|default:"Unknown" }}
      </span>
    </li>
  {% empty %}
    <p>No predictions yet.</p>
  {% endfor %}
</ul>
{% endblock %}
