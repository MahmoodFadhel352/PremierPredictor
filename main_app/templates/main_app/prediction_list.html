{% extends 'base.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/predictions/predictions.css' %}">
{% endblock %}
{% block content %}

<section class="page-header">
  <h1>Predictions</h1>
  <a href="{% url 'prediction-create' %}" class="btn submit">+ New Prediction</a>
</section>

<section class="card-container">
  {% for p in object_list %}
    <div class="card prediction-card">
      <a href="{% url 'prediction-detail' p.pk %}">
        <div class="card-content">
          <div class="match-line">
            {{ p.match.home_team.name }} <span class="vs">vs</span> {{ p.match.away_team.name }}
          </div>

          <div class="meta-row">
            <span class="pill">
              Pick: <strong>{{ p.get_pick_display }}</strong>
            </span>
            {% if p.p_home or p.p_draw or p.p_away %}
              <span class="pill">H: {{ p.p_home|default:"—" }}</span>
              <span class="pill">D: {{ p.p_draw|default:"—" }}</span>
              <span class="pill">A: {{ p.p_away|default:"—" }}</span>
            {% endif %}
          </div>

          <p class="byline">by {{ p.user.username|default:"Unknown" }}</p>
        </div>
      </a>
    </div>
  {% empty %}
    <p>No predictions yet.</p>
  {% endfor %}
</section>
{% endblock %}
